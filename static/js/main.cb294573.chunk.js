(this["webpackJsonpoffer-cart"]=this["webpackJsonpoffer-cart"]||[]).push([[0],{95:function(e,t,n){"use strict";n.r(t);var c,r,a,i,o,s,j,d,u=n(0),l=n(11),b=n.n(l),O=n(16),m=n(22),x=n(23),h=n(55),p=n.n(h),f=n(65),g=n(143),v=n(141),y=n(132),C=n(72),w=n.n(C),k=n(140),z=n(73),F=n(137),T=n(138),B=n(50),I=n(139),E=n(130),J=n(49),S=n.n(J),A=n(126),D=n(129),L=n(131),N=n(3),R=function(e){var t=e.productCategory,n=e.product,c=e.addButton;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(A.a,{children:[Object(N.jsx)(D.a,{primary:n.name,secondary:"".concat(n.price," z\u0142 (").concat(n.priceDetails,")")}),Object(N.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){return c(Object(m.a)(Object(m.a)({},n),{},{category:t}))},children:Object(N.jsx)(S.a,{})})]}),Object(N.jsx)(L.a,{component:"li"})]})},Z=n(19),q=n(20),G=q.a.aside(c||(c=Object(Z.a)(["\n  width: 100vw;\n  max-width: 500px;\n  padding: 20px;\n"]))),H=n(133),K=n(69),M=n.n(K),P=function(e){var t=e.products,n=e.addToCart,c=e.removeFromCart;return t.map((function(e){return Object(N.jsx)(A.a,{divider:!0,children:Object(N.jsxs)(y.a,{container:!0,direction:"column",children:[Object(N.jsx)(B.a,{variant:"h6",children:e.name}),Object(N.jsx)(y.a,{item:!0,children:Object(N.jsxs)(y.a,{container:!0,direction:"row",justify:"space-between",children:[Object(N.jsxs)(B.a,{variant:"overline",children:["Cena: ",e.price," z\u0142"]}),Object(N.jsxs)(B.a,{variant:"overline",children:["Cena w sumie: ",e.amount*e.price," z\u0142"]})]})}),Object(N.jsx)(y.a,{item:!0,children:Object(N.jsxs)(y.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(N.jsx)(H.a,{size:"medium",onClick:function(){return c(e.id)},children:Object(N.jsx)(M.a,{})}),Object(N.jsx)(B.a,{variant:"subtitle1",children:e.amount}),Object(N.jsx)(H.a,{size:"medium",onClick:function(){return n(e)},children:Object(N.jsx)(S.a,{})})]})})]})},e.id)}))},Q=q.a.section(r||(r=Object(Z.a)(["\n  padding-top: 2rem;\n"]))),U=n(134),V=function(e){var t=e.category,n=e.products,c=e.addToCart,r=e.removeFromCart;return Object(N.jsxs)(Q,{children:[Object(N.jsx)(B.a,{variant:"h5",children:t}),Object(N.jsx)(U.a,{children:Object(N.jsx)(P,{products:n,addToCart:c,removeFromCart:r})})]})},W=n(70),X=n.n(W),Y=n(135),$=Object(Y.a)({icon:{height:35,width:35}}),_=function(e){var t,n,c,r=e.cartItems,a=e.addToCart,i=e.removeFromCart,o=e.closeButton,s=$(),j=(n="category",r.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{}));return Object(N.jsxs)(G,{children:[Object(N.jsxs)(y.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(N.jsx)(y.a,{item:!0,xs:2,children:Object(N.jsx)(H.a,{onClick:o,children:Object(N.jsx)(X.a,{className:s.icon})})}),Object(N.jsx)(y.a,{item:!0,xs:"auto",children:Object(N.jsx)(B.a,{variant:"h5",component:"h3",color:"secondary",children:"Zam\xf3wienie cateringowe"})})]}),0===r.length?Object(N.jsx)(B.a,{variant:"h5",component:"h3",color:"initial",align:"center",style:{marginTop:"2rem"},children:"Brak produkt\xf3w w zam\xf3wieniu"}):null,null===(t=Object.entries(j))||void 0===t?void 0:t.map((function(e){var t=Object(x.a)(e,2),n=t[0],c=t[1];return Object(N.jsx)(V,{category:n,products:c,addToCart:a,removeFromCart:i},n)})),r.length>0?Object(N.jsx)(B.a,{variant:"h6",color:"initial",align:"right",children:Object(N.jsxs)("strong",{children:["Cena za catering: ",(c=r,c.reduce((function(e,t){return e+t.amount*t.price}),0))," z\u0142"]})}):null]})},ee=n(136),te=Object(q.a)(ee.a)(a||(a=Object(Z.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),ne=q.a.div(i||(i=Object(Z.a)(["\n  margin: 80px 40px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-family: 'Roboto', sans-serif;\n"]))),ce=Object(q.a)(H.a)(o||(o=Object(Z.a)(["\n  position: fixed;\n  z-index: 100;\n  right: 20px;\n  top: 20px;\n"]))),re=Object(q.a)(U.a)(s||(s=Object(Z.a)(["\n  padding: 0 !important;\n  li:last-child {\n    display: none;\n  }\n"]))),ae=q.a.section(j||(j=Object(Z.a)(["\n  margin-bottom: 20px;\n"]))),ie=q.a.header(d||(d=Object(Z.a)(["\n  margin-bottom: 10px;\n"]))),oe=(n(94),function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),se=Object(z.a)({palette:{primary:{main:"#7F8054"},secondary:{main:"#52542C"}}}),je=function(){var e,t=Object(u.useState)(!1),n=Object(x.a)(t,2),c=n[0],r=n[1],a=Object(u.useState)([]),i=Object(x.a)(a,2),o=i[0],s=i[1],j=Object(g.a)("products",oe),d=j.data,l=j.error,b=j.isLoading,h=j.isError,p=function(e){s((function(t){return t.find((function(t){return t.id===e.id}))?t.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{amount:t.amount+1}):t})):[].concat(Object(O.a)(t),[Object(m.a)(Object(m.a)({},e),{},{amount:1})])}))};return b?Object(N.jsx)(te,{}):h?Object(N.jsxs)("span",{children:["Error: ",l.message]}):Object(N.jsxs)(F.a,{theme:se,children:[Object(N.jsx)(T.a,{}),Object(N.jsxs)(ne,{children:[Object(N.jsx)(B.a,{variant:"h2",color:"secondary",children:"Oferta cateringowa"}),Object(N.jsx)(v.a,{anchor:"right",open:c,onClose:function(){return r(!1)},children:Object(N.jsx)(_,{cartItems:o,addToCart:p,removeFromCart:function(e){s((function(t){return t.reduce((function(t,n){return n.id===e?1===n.amount?t:[].concat(Object(O.a)(t),[Object(m.a)(Object(m.a)({},n),{},{amount:n.amount-1})]):[].concat(Object(O.a)(t),[n])}),[])}))},closeButton:function(){return r(!1)}})}),Object(N.jsx)(ce,{style:{position:"fixed"},onClick:function(){return r(!0)},children:Object(N.jsx)(k.a,{badgeContent:(e=o,e.reduce((function(e,t){return e+t.amount}),0)),color:"error",children:Object(N.jsx)(w.a,{color:"secondary",size:"medium"})})}),Object(N.jsx)(y.a,{container:!0,children:Object(N.jsx)(y.a,{item:!0,xs:12,children:null===d||void 0===d?void 0:d.map((function(e){return Object(N.jsxs)(ae,{children:[Object(N.jsxs)(ie,{children:[Object(N.jsx)(B.a,{variant:"h4",component:"h3",children:e.category.name}),Object(N.jsx)(B.a,{variant:"subtitle2",children:e.category.description})]}),Object(N.jsx)(I.a,{children:Object(N.jsx)(re,{children:e.content.map((function(t){return Object(N.jsx)(R,{productCategory:e.category.name,product:t,addButton:p},t.id)}))})})]},e.category.name)}))})})]})]})},de=n(142),ue=n(71),le=new de.a;b.a.render(Object(N.jsx)(ue.a,{client:le,children:Object(N.jsx)(je,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.cb294573.chunk.js.map