(this["webpackJsonpoffer-cart"]=this["webpackJsonpoffer-cart"]||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var c,r,a,i,o,j,s,d,u=n(0),l=n(9),b=n.n(l),O=n(49),h=n(18),m=n(24),x=n(71),p=n.n(x),f=n(2),v=Object(u.createContext)({products:[],productsInCart:[],handleAddToCart:function(){},handleRemoveFromCart:function(){},setCartOpen:function(){},cartOpen:!1,isErrorWithFetch:null}),C=function(e){var t=e.children,n=Object(u.useState)([]),c=Object(m.a)(n,2),r=c[0],a=c[1],i=Object(u.useState)([]),o=Object(m.a)(i,2),j=o[0],s=o[1],d=Object(u.useState)(!1),l=Object(m.a)(d,2),b=l[0],x=l[1],C=Object(u.useState)(null),g=Object(m.a)(C,2),y=g[0],w=g[1];Object(u.useEffect)((function(){p.a.get("data.json").then((function(e){var t=e.data;a(t)})).catch((function(e){return w(e)}))}),[]);return Object(f.jsx)(v.Provider,{value:{products:r,productsInCart:j,handleAddToCart:function(e){s((function(t){return t.find((function(t){return t.id===e.id}))?t.map((function(t){return t.id===e.id?Object(h.a)(Object(h.a)({},t),{},{amount:t.amount+1}):t})):[].concat(Object(O.a)(t),[Object(h.a)(Object(h.a)({},e),{},{amount:1})])}))},handleRemoveFromCart:function(e){s((function(t){return t.reduce((function(t,n){return n.id===e?1===n.amount?t:[].concat(Object(O.a)(t),[Object(h.a)(Object(h.a)({},n),{},{amount:n.amount-1})]):[].concat(Object(O.a)(t),[n])}),[])}))},setCartOpen:x,cartOpen:b,isErrorWithFetch:y},children:t})},g=(n(106),n(78)),y=n(154),w=n(155),F=n(147),T=n(50),z=n(152),k=n(145),I=n(47),E=n.n(I),A=n(141),B=n(144),R=n(146),S=function(e){var t=e.productCategory,n=e.product,c=Object(u.useContext)(v).handleAddToCart;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(A.a,{children:[Object(f.jsx)(B.a,{primary:n.name,secondary:"".concat(n.price," z\u0142 (").concat(n.priceDetails,")")}),Object(f.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return c(Object(h.a)(Object(h.a)({},n),{},{category:t}))},children:Object(f.jsx)(E.a,{})})]}),Object(f.jsx)(R.a,{component:"li"})]})},W=n(156),J=n(77),D=n.n(J),N=n(153),P=n(14),Z=n(15),q=Z.a.aside(c||(c=Object(P.a)(["\n  width: 100vw;\n  max-width: 500px;\n  padding: 20px;\n"]))),G=n(148),H=n(75),K=n.n(H),L=function(e){var t=e.products,n=e.addToCart,c=e.removeFromCart;return t.map((function(e){return Object(f.jsx)(A.a,{divider:!0,children:Object(f.jsxs)(F.a,{container:!0,direction:"column",children:[Object(f.jsx)(T.a,{variant:"h6",children:e.name}),Object(f.jsx)(F.a,{item:!0,children:Object(f.jsxs)(F.a,{container:!0,direction:"row",justify:"space-between",children:[Object(f.jsxs)(T.a,{variant:"overline",children:["Cena: ",e.price," z\u0142"]}),Object(f.jsxs)(T.a,{variant:"overline",children:["Cena w sumie: ",e.amount*e.price," z\u0142"]})]})}),Object(f.jsx)(F.a,{item:!0,children:Object(f.jsxs)(F.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(f.jsx)(G.a,{size:"medium",onClick:function(){return c(e.id)},children:Object(f.jsx)(K.a,{})}),Object(f.jsx)(T.a,{variant:"subtitle1",children:e.amount}),Object(f.jsx)(G.a,{size:"medium",onClick:function(){return n(e)},children:Object(f.jsx)(E.a,{})})]})})]})},e.id)}))},M=Z.a.section(r||(r=Object(P.a)(["\n  padding-top: 2rem;\n"]))),Q=n(149),U=function(e){var t=e.category,n=e.products,c=e.addToCart,r=e.removeFromCart;return Object(f.jsxs)(M,{children:[Object(f.jsx)(T.a,{variant:"h5",children:t}),Object(f.jsx)(Q.a,{children:Object(f.jsx)(L,{products:n,addToCart:c,removeFromCart:r})})]})},V=n(76),X=n.n(V),Y=n(150),$=Object(Y.a)({icon:{height:35,width:35}}),_=function(e){var t,n,c,r=e.cartItems,a=e.addToCart,i=e.removeFromCart,o=e.closeButton,j=$(),s=(n="category",r.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{}));return Object(f.jsxs)(q,{children:[Object(f.jsxs)(F.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(f.jsx)(F.a,{item:!0,xs:2,children:Object(f.jsx)(G.a,{onClick:o,children:Object(f.jsx)(X.a,{className:j.icon})})}),Object(f.jsx)(F.a,{item:!0,xs:"auto",children:Object(f.jsx)(T.a,{variant:"h5",component:"h3",color:"secondary",children:"Zam\xf3wienie cateringowe"})})]}),0===r.length?Object(f.jsx)(T.a,{variant:"h5",component:"h3",color:"initial",align:"center",style:{marginTop:"2rem"},children:"Brak produkt\xf3w w zam\xf3wieniu"}):null,null===(t=Object.entries(s))||void 0===t?void 0:t.map((function(e){var t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(f.jsx)(U,{category:n,products:c,addToCart:a,removeFromCart:i},n)})),r.length>0?Object(f.jsx)(T.a,{variant:"h6",color:"initial",align:"right",children:Object(f.jsxs)("strong",{children:["Cena za catering: ",(c=r,c.reduce((function(e,t){return e+t.amount*t.price}),0))," z\u0142"]})}):null]})},ee=n(151),te=(Object(Z.a)(ee.a)(a||(a=Object(P.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Object(Z.a)(G.a)(i||(i=Object(P.a)(["\n  position: fixed;\n  z-index: 100;\n  right: 20px;\n  top: 20px;\n"])))),ne=Object(Z.a)(Q.a)(o||(o=Object(P.a)(["\n  padding: 0 !important;\n  li:last-child {\n    display: none;\n  }\n"]))),ce=Z.a.section(j||(j=Object(P.a)(["\n  margin-bottom: 20px;\n"]))),re=Z.a.header(s||(s=Object(P.a)(["\n  margin-bottom: 10px;\n"]))),ae=function(){var e,t=Object(u.useContext)(v),n=t.products,c=t.productsInCart,r=t.setCartOpen,a=t.cartOpen,i=t.handleAddToCart,o=t.handleRemoveFromCart,j=t.isErrorWithFetch;return j?Object(f.jsxs)("span",{children:["Error: ",j]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(T.a,{variant:"h2",color:"secondary",children:"Oferta cateringowa"}),Object(f.jsx)(W.a,{anchor:"right",open:a,onClose:function(){return r(!1)},children:Object(f.jsx)(_,{cartItems:c,addToCart:i,removeFromCart:o,closeButton:function(){return r(!1)}})}),Object(f.jsx)(te,{style:{position:"fixed"},onClick:function(){return r(!0)},children:Object(f.jsx)(N.a,{badgeContent:(e=c,e.reduce((function(e,t){return e+t.amount}),0)),color:"error",children:Object(f.jsx)(D.a,{color:"secondary",size:"medium"})})}),Object(f.jsx)(F.a,{container:!0,children:Object(f.jsx)(F.a,{item:!0,xs:12,children:null===n||void 0===n?void 0:n.map((function(e){return Object(f.jsxs)(ce,{children:[Object(f.jsxs)(re,{children:[Object(f.jsx)(T.a,{variant:"h4",component:"h3",children:e.category.name}),Object(f.jsx)(T.a,{variant:"subtitle2",children:e.category.description})]}),Object(f.jsx)(z.a,{children:Object(f.jsx)(ne,{children:e.content.map((function(t){return Object(f.jsx)(S,{productCategory:e.category.name,product:t},t.id)}))})})]},e.category.name)}))})})]})},ie=Z.a.div(d||(d=Object(P.a)(["\n  margin: 80px 40px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-family: 'Roboto', sans-serif;\n"]))),oe=Object(g.a)({palette:{primary:{main:"#7F8054"},secondary:{main:"#52542C"}}}),je=function(){return Object(f.jsxs)(y.a,{theme:oe,children:[Object(f.jsx)(w.a,{}),Object(f.jsx)(C,{children:Object(f.jsx)(ie,{children:Object(f.jsx)(ae,{})})})]})};b.a.render(Object(f.jsx)(je,{}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.c54362a8.chunk.js.map